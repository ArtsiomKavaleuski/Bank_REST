databaseChangeLog:
  - changeSet:
    id: 7
    author: koval-dev
    changes:
      - createTable:
        tableName: transfers
        columns:
          - column:
            name: id
            type: BIGINT
            constraints:
              primaryKey: true
              nullable: false
          - column:
            name: from_card_id
            type: BIGINT
            constraints:
              nullable: false
          - column:
            name: to_card_id
            type: BIGINT
            constraints:
              nullable: false
          - column:
            name: amount
            type: DECIMAL(15,2)
            constraints:
              nullable: false
          - column:
            name: description
            type: VARCHAR(255)
            constraints:
              nullable: true
          - column:
            name: created_at
            type: datetime
            constraints:
              nullable: false

  - changeSet:
    id: 6
    author: koval-dev
    changes:
      - addForeignKeyConstraint:
        baseTableName: block_requests
        baseColumnNames: card_id
        referencedTableName: cards
        referencedColumnNames: id
        constraintName: fk_block_card
        onDelete: CASCADE